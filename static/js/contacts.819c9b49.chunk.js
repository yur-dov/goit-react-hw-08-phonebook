"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[421],{2654:function(e,t,n){n.r(t),n.d(t,{default:function(){return Y}});var a=n(885),r=n(2791),s=n(9434),i=n(5036),c=function(e){return e.contacts.filter},o=function(e){return e.contacts.items},l=function(e){return o(e).filter((function(t){return t.name.toLowerCase().includes(c(e).toLowerCase())}))},d=function(e){return e.contacts.error},u=function(e){return e.contacts.loading},m=function(e){return e.contacts.isFetchingContacts},h=n(4443),_="Phonebook_form__J23fu",p="Phonebook_label__Qzztg",b="Phonebook_input__8yiEQ",f="Phonebook_title__ipARL",x=n(5218),v=n(8966),j=n(7205),g=n(1686),C=n(184);var N=function(){var e=(0,r.useState)(""),t=(0,a.Z)(e,2),n=t[0],c=t[1],l=(0,r.useState)(""),d=(0,a.Z)(l,2),m=d[0],h=d[1],N=(0,s.v9)(o),w=(0,s.v9)(u),y=(0,s.I0)(),A=function(e){switch(e.currentTarget.id){case"nameAdd":c(e.currentTarget.value);break;case"numberAdd":h(e.currentTarget.value);break;default:console.log("wrong name")}},Z=function(e,t){N.map((function(e){return e.name.toLowerCase()})).includes(e.toLowerCase())?x.ZP.error("".concat(e," is already in contacts"),{duration:3e3,position:"top-center"}):(y(i.addContact({name:e,number:t})),c(""),h(""))};return(0,C.jsxs)("form",{className:_,onSubmit:function(e){e.preventDefault(),Z(n,m)},children:[(0,C.jsx)("h2",{className:f,children:"Add contact"}),(0,C.jsx)("label",{className:p,htmlFor:"nameAdd",children:"Name"}),(0,C.jsx)("input",{type:"text",onChange:A,name:"name",value:n,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,className:b,id:"nameAdd"}),(0,C.jsx)("label",{className:p,htmlFor:"numberAdd",children:"Number"}),(0,C.jsx)("input",{type:"tel",onChange:A,name:"number",value:m,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,className:b,id:"numberAdd"}),(0,C.jsx)(j.Z,{type:"submit",variant:"contained",endIcon:n&&w?(0,C.jsx)(v.p2,{height:"15",width:"15",color:"white",ariaLabel:"loading"}):(0,C.jsx)(g.Z,{}),size:"large",children:"Add contact"})]})},w="Filter_label__vEd1E",y="Filter_input__N7T3z",A="Filter_title__pSkfx",Z=function(){var e=(0,s.v9)(c),t=(0,s.I0)();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("h2",{className:A,children:"Contacts List"}),(0,C.jsxs)("label",{className:w,children:["Find Contacts by name",(0,C.jsx)("input",{type:"text",onChange:function(e){return t(h.setFilter(e.currentTarget.value))},name:"filter",value:e,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,className:y})]})]})},k="ContactList_list__csErn",F=n(4164),z="PatchForm_form__V2ul1",P="PatchForm_label__MwJQE",I="PatchForm_input__JDiGI",L="PatchForm_title__yIMj6",S="PatchForm_buttonContainer__daJTf",E=n(1286);var M=function(e){var t=e.onClick,n=e.id,c=(0,s.v9)(o).find((function(e){return e.id===n})),l=(0,r.useState)(c.name),d=(0,a.Z)(l,2),m=d[0],h=d[1],_=(0,r.useState)(c.number),p=(0,a.Z)(_,2),b=p[0],f=p[1],x=(0,s.v9)(u),g=(0,s.I0)(),N=function(e){switch(e.currentTarget.id){case"namePatch":h(e.currentTarget.value);break;case"numberPatch":f(e.currentTarget.value);break;default:console.log("wrong name")}};return(0,C.jsxs)("form",{className:z,onSubmit:function(e){e.preventDefault(),g(i.patchContact({name:m,number:b,id:n})),t()},children:[(0,C.jsx)("h2",{className:L,children:"Edit contact"}),(0,C.jsx)("label",{className:P,htmlFor:"namePatch",children:"Name"}),(0,C.jsx)("input",{type:"text",onChange:N,name:"name",value:m,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,className:I,id:"namePatch"}),(0,C.jsx)("label",{className:P,htmlFor:"numberPatch",children:"Number"}),(0,C.jsx)("input",{type:"tel",onChange:N,name:"number",value:b,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,className:I,id:"numberPatch"}),(0,C.jsxs)("div",{className:S,children:[(0,C.jsx)(j.Z,{type:"button",variant:"contained",size:"large",onClick:t,children:"Cancel"}),(0,C.jsx)(j.Z,{type:"submit",variant:"contained",endIcon:x?(0,C.jsx)(v.p2,{height:"15",width:"15",color:"white",ariaLabel:"loading"}):(0,C.jsx)(E.Z,{}),size:"large",children:"Edit"})]})]})},T="Modal_Overlay__yoxbg",J="Modal_Modal__I1UYJ",q=document.querySelector("#modal-root");var D=function(e){var t=e.onClick,n=e.id;return(0,r.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}})),(0,F.createPortal)((0,C.jsx)("div",{className:T,children:(0,C.jsx)("div",{className:J,children:(0,C.jsx)(M,{onClick:t,id:n})})}),q)},V={item:"ContactListItem_item__UAAix",name:"ContactListItem_name__cIBvF",button:"ContactListItem_button__SG6H2",contactContainer:"ContactListItem_contactContainer__0rcmw"},B=n(7247),Q=n(5590),G=function(e){var t=e.id,n=e.name,a=e.number,r=e.loader,c=e.handleShowModal,o=(0,s.I0)();return(0,C.jsxs)("li",{className:V.item,children:[(0,C.jsx)(Q.Z,{size:"small",color:"primary","aria-label":"edit",className:V.fab,onClick:c,id:t,children:(0,C.jsx)(E.Z,{})}),(0,C.jsxs)("div",{className:V.contactContainer,children:[(0,C.jsx)("span",{className:V.name,children:n}),(0,C.jsx)("span",{className:V.number,children:a})]}),(0,C.jsx)(j.Z,{className:V.button,id:t,name:n,variant:"outlined",startIcon:r?(0,C.jsx)(v.p2,{height:"20",width:"20",color:"blue",ariaLabel:"loading"}):(0,C.jsx)(B.Z,{}),onClick:function(e){o(i.deleteContact({id:e.currentTarget.id,name:e.currentTarget.name}))},children:"Delete"})]})},$=function(){var e=(0,r.useState)(null),t=(0,a.Z)(e,2),n=t[0],c=t[1],d=(0,s.v9)(o),h=(0,s.v9)(l),_=(0,s.v9)(u),p=(0,s.v9)(m),b=(0,s.I0)();(0,r.useEffect)((function(){b(i.fetchContacts())}),[b]);var f=function(e){c(e.currentTarget.id)};return 0===h.length&&0!==d.length?(0,C.jsx)("p",{children:"Don't find any contact, try something else"}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("ul",{className:k,children:h.map((function(e){var t=e.name,n=e.number,a=e.id;return(0,C.jsx)(G,{id:a,name:t,number:n,loader:(null===_||void 0===_?void 0:_.id)===a,handleShowModal:f},a)}))}),0===d.length&&!p&&(0,C.jsx)("p",{children:"You don't have any contact, please add your contacts"}),n&&(0,C.jsx)(D,{onClick:function(e){c(null)},id:n})]})},U=n(3886),Y=function(){var e=(0,s.v9)(d);return(0,C.jsxs)("div",{className:U.Z.container,children:[(0,C.jsx)(N,{}),(0,C.jsxs)("div",{children:[(0,C.jsx)(Z,{}),e?(0,C.jsxs)("h2",{children:[e,", please try latter"]}):(0,C.jsx)($,{})]})]})}},3886:function(e,t){t.Z={title:"Views_title__AQG3M",form:"Views_form__SBIbD",label:"Views_label__1lpis",input:"Views_input__bzFs3",container:"Views_container__xtdM7"}}}]);
//# sourceMappingURL=contacts.819c9b49.chunk.js.map